!function(){"use strict";function t(t,e,s,i){this.sliderSize=parseFloat(t)/100,this.slideSize=parseFloat(e)/100,this.animationDuration=parseFloat(s),this.autoplayInterval=parseFloat(i)}function e(e,s,i,l,r){this.startSetup=new t(s,i,l,r),this.wrapper=e.querySelector(".circular-slider-js .wrapper"),this.slides=e.querySelectorAll(".circular-slider-js .circular-slider .wrapper .slides-holder .slides-holder__item"),this.slidesSize=0,this.slidesHolder=e.querySelector(".circular-slider-js .circular-slider .wrapper .slides-holder"),this.btnLeft=e.querySelector(".circular-slider-js .circular-slider .wrapper .controls .controls__left"),this.btnRight=e.querySelector(".circular-slider-js .circular-slider .wrapper .controls .controls__right"),this.btnAutoplay=e.querySelector(".circular-slider-js .circular-slider .wrapper .controls .controls__autoplay"),this.currentAngle=0,this.stepAngle=2*Math.PI/e.querySelectorAll(".circular-slider-js .circular-slider .wrapper .slides-holder .slides-holder__item").length,this.currentSlide=0,this.slidesHolder.style.transitionDuration=this.startSetup.animationDuration+"ms",this.onResize(),this.setAutoplay(),this.setNav(),this.addStyle();let o=this;this.btnAutoplay.onclick=function(){this.classList.contains("controls__autoplay_running")?(this.classList.remove("controls__autoplay_running"),this.classList.add("controls__autoplay_paused"),clearInterval(o.autoplay),o.autoplay=null):(this.classList.remove("controls__autoplay_paused"),this.classList.add("controls__autoplay_running"),o.setAutoplay())}}e.prototype.onResize=function(){let t,e=this.wrapper.parentNode.getBoundingClientRect().width,s=this.wrapper.parentNode.getBoundingClientRect().height;t=2*s<=e?s*this.startSetup.sliderSize:e/2*this.startSetup.sliderSize,this.setSize(Math.round(t))},e.prototype.setSize=function(t){this.wrapper.style.width=2*t+"px",this.wrapper.style.height=t+"px";let e=2*t*(1-this.startSetup.slideSize);this.slidesHolder.style.width=this.slidesHolder.style.height=e+"px",this.slidesRepositioning(e/2),this.slidesHolder.style.marginTop=t*this.startSetup.slideSize+"px",this.slidesSize=Math.min(2*t*this.startSetup.slideSize,this.stepAngle*t*(1-this.startSetup.slideSize)-50);for(let t=0;t<this.slides.length;t++)this.slides[t].style.width=this.slides[t].style.height=this.slidesSize+"px"},e.prototype.slidesRepositioning=function(t){for(let e=0;e<this.slides.length;e++){let s=t*Math.cos(this.stepAngle*e-Math.PI/2),i=t*Math.sin(this.stepAngle*e-Math.PI/2);this.slides[e].style.transform="translate( "+s+"px, "+i+"px ) rotate( "+180*this.stepAngle/Math.PI*e+"deg )"}},e.prototype.rotate=function(t){let e=this;this.removeStyle(),this.resetNavs(),this.currentSlide===this.slides.length-1&&-1===t?(this.slidesHolder.style.transform="rotate( -360deg )",this.currentSlide=this.currentAngle=0,this.addStyle(),setTimeout((function(){e.slidesHolder.style.transitionDuration="0s",e.slidesHolder.style.transform="rotate( "+e.currentAngle+"deg )",setTimeout((function(){e.slidesHolder.style.transitionDuration=e.startSetup.animationDuration+"ms"}),20)}),this.startSetup.animationDuration)):0===this.currentSlide&&1===t?(this.slidesHolder.style.transform="rotate( "+180*this.stepAngle/Math.PI+"deg )",this.currentSlide=e.slides.length-1,this.currentAngle=180*-(2*Math.PI-e.stepAngle)/Math.PI,this.addStyle(),setTimeout((function(){e.slidesHolder.style.transitionDuration="0s",e.slidesHolder.style.transform="rotate( "+e.currentAngle+"deg )",setTimeout((function(){e.slidesHolder.style.transitionDuration=e.startSetup.animationDuration+"ms"}),20)}),this.startSetup.animationDuration)):(this.currentSlide-=t,this.currentAngle+=180*this.stepAngle/Math.PI*t,this.slidesHolder.style.transform="rotate( "+this.currentAngle+"deg )",this.addStyle())},e.prototype.setNav=function(){let t=this;t.btnLeft.onclick=function(){t.rotate(1)},t.btnRight.onclick=function(){t.rotate(-1)}},e.prototype.disableNav=function(){this.btnLeft.onclick=null,this.btnRight.onclick=null},e.prototype.setAutoplay=function(){let t=this;this.autoplay=setInterval((function(){t.rotate(-1)}),t.startSetup.autoplayInterval+100)},e.prototype.removeStyle=function(){let t=this.currentSlide;this.slides[t].classList.remove("slides-holder__item_active"),this.slides[t].style.height=this.slides[t].style.width=this.slidesSize+"px";for(let t=0;t<this.slides.length;t++)this.slides[t].classList.remove("slides-holder__item_prev"),this.slides[t].classList.remove("slides-holder__item_next")},e.prototype.addStyle=function(){let t=this.currentSlide,e=this.slides.length;this.slides[t].classList.add("slides-holder__item_active"),this.slides[t].style.height=this.slides[t].style.width=this.slidesSize+20+"px";let s=(t-1+e)%e;this.slides[s].classList.add("slides-holder__item_prev");let i=(t+1)%e;this.slides[i].classList.add("slides-holder__item_next")},e.prototype.resetNavs=function(){let t=this;this.disableNav(),setTimeout((function(){t.setNav()}),this.startSetup.animationDuration+20),null!=this.autoplay&&(clearInterval(this.autoplay),this.setAutoplay())},window.circularSlider1=new e(document.querySelector(".circular-slider-js .circular-slider-1"),100,15,600,2500),window.circularSlider2=new e(document.querySelector(".circular-slider-js .circular-slider-2"),90,13,700,3e3),window.circularSlider3=new e(document.querySelector(".circular-slider-js .circular-slider-3"),80,18,800,3700),window.circularSlider4=new e(document.querySelector(".circular-slider-js .circular-slider-4"),70,20,900,4200);let s=[window.circularSlider1,window.circularSlider2,window.circularSlider3,window.circularSlider4];window.onresize=function(){for(let t=0;t<s.length;t++)s[t].resetNavs(),s[t].onResize()}}();
//# sourceMappingURL=circular-slider.min.js.map
