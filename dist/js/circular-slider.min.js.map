{"version":3,"file":"circular-slider.min.js","names":["startSetup","sliderSize","slideSize","animationDuration","autoplayInterval","this","parseFloat","Slider","newSlider","wrapper","querySelector","slides","querySelectorAll","slidesSize","slidesHolder","btnLeft","btnRight","btnAutoplay","currentAngle","stepAngle","Math","PI","length","currentSlide","style","transitionDuration","onResize","setAutoplay","setNav","addStyle","_this","onclick","classList","contains","remove","add","clearInterval","autoplay","prototype","radius","w","parentNode","getBoundingClientRect","width","h","height","setSize","round","r","slidesRepositioning","marginTop","min","i","x","cos","y","sin","transform","rotate","multiplier","removeStyle","resetNavs","setTimeout","disableNav","setInterval","total","prevIndex","nextIndex","window","circularSlider1","document","circularSlider2","circularSlider3","circularSlider4","sliders","onresize"],"sources":["circular-slider.js"],"mappings":"CAAA,WACI,aAEA,SAASA,EAAYC,EAAYC,EAAWC,EAAmBC,GAE3DC,KAAKJ,WAAoBK,WAAYL,GAAa,IAClDI,KAAKH,UAAoBI,WAAYJ,GAAY,IACjDG,KAAKF,kBAAoBG,WAAYH,GACrCE,KAAKD,iBAAoBE,WAAYF,EAEzC,CAEA,SAASG,EAAQC,EAAWP,EAAYC,EAAWC,EAAmBC,GAElEC,KAAKL,WAAuB,IAAIA,EAAYC,EAAYC,EAAWC,EAAmBC,GAEtFC,KAAKI,QAAuBD,EAAUE,cAAe,gCAErDL,KAAKM,OAAuBH,EAAUI,iBAAkB,qFAExDP,KAAKQ,WAAuB,EAE5BR,KAAKS,aAAuBN,EAAUE,cAAe,gEAErDL,KAAKU,QAAuBP,EAAUE,cAAe,2EAErDL,KAAKW,SAAuBR,EAAUE,cAAe,4EAErDL,KAAKY,YAAuBT,EAAUE,cAAe,+EAErDL,KAAKa,aAAuB,EAE5Bb,KAAKc,UAAuB,EAAEC,KAAKC,GAAGb,EAAUI,iBAAkB,qFAAsFU,OAExJjB,KAAKkB,aAAuB,EAE5BlB,KAAKS,aAAaU,MAAMC,mBAAqBpB,KAAKL,WAAWG,kBAAoB,KACjFE,KAAKqB,WACLrB,KAAKsB,cACLtB,KAAKuB,SACLvB,KAAKwB,WAEL,IAAIC,EAAQzB,KACZA,KAAKY,YAAYc,QAAU,WAEnB1B,KAAK2B,UAAUC,SAAU,+BAEzB5B,KAAK2B,UAAUE,OAAQ,8BACvB7B,KAAK2B,UAAUG,IAAK,6BACpBC,cAAeN,EAAMO,UACrBP,EAAMO,SAAW,OAIjBhC,KAAK2B,UAAUE,OAAQ,6BACvB7B,KAAK2B,UAAUG,IAAK,8BACpBL,EAAMH,cAGd,CACJ,CAEApB,EAAO+B,UAAUZ,SAAW,WAExB,IAAIa,EACAC,EAAInC,KAAKI,QAAQgC,WAAWC,wBAAwBC,MACpDC,EAAIvC,KAAKI,QAAQgC,WAAWC,wBAAwBG,OAE7CN,EAAX,EAAEK,GAAKJ,EAAaI,EAAEvC,KAAKL,WAAWC,WAChBuC,EAAE,EAAInC,KAAKL,WAAWC,WAE5CI,KAAKyC,QAAS1B,KAAK2B,MAAOR,GAE9B,EAEAhC,EAAO+B,UAAUQ,QAAU,SAAUP,GAEjClC,KAAKI,QAAQe,MAAMmB,MAAS,EAAEJ,EAAS,KACvClC,KAAKI,QAAQe,MAAMqB,OAASN,EAAS,KAErC,IAAIS,EAA4B,EAAET,GAAS,EAAIlC,KAAKL,WAAWE,WAC/DG,KAAKS,aAAaU,MAAMmB,MAAQtC,KAAKS,aAAaU,MAAMqB,OAASG,EAAI,KACrE3C,KAAK4C,oBAAqBD,EAAE,GAE5B3C,KAAKS,aAAaU,MAAM0B,UAAeX,EAAOlC,KAAKL,WAAWE,UAAY,KAE1EG,KAAKQ,WAAoCO,KAAK+B,IAAK,EAAEZ,EAAOlC,KAAKL,WAAWE,UAAWG,KAAKc,UAAUoB,GAAS,EAAIlC,KAAKL,WAAWE,WAAc,IACjJ,IAAK,IAAIkD,EAAI,EAAGA,EAAI/C,KAAKM,OAAOW,OAAQ8B,IACpC/C,KAAKM,OAAOyC,GAAG5B,MAAMmB,MAAQtC,KAAKM,OAAOyC,GAAG5B,MAAMqB,OAASxC,KAAKQ,WAAa,IAGrF,EAEAN,EAAO+B,UAAUW,oBAAsB,SAAUD,GAE7C,IAAK,IAAII,EAAI,EAAGA,EAAI/C,KAAKM,OAAOW,OAAQ8B,IAAM,CAE1C,IAAIC,EAAIL,EAAE5B,KAAKkC,IAAKjD,KAAKc,UAAUiC,EAAIhC,KAAKC,GAAG,GAC3CkC,EAAIP,EAAE5B,KAAKoC,IAAKnD,KAAKc,UAAUiC,EAAIhC,KAAKC,GAAG,GAC/ChB,KAAKM,OAAOyC,GAAG5B,MAAMiC,UAAY,cAAgBJ,EAAK,OAASE,EAAI,gBAAiC,IAAflD,KAAKc,UAAcC,KAAKC,GAAG+B,EAAI,OAExH,CAEJ,EAEA7C,EAAO+B,UAAUoB,OAAS,SAAUC,GAEhC,IAAI7B,EAAQzB,KAEZA,KAAKuD,cACLvD,KAAKwD,YAEDxD,KAAKkB,eAAiBlB,KAAKM,OAAOW,OAAS,IAAsB,IAAhBqC,GAEjDtD,KAAKS,aAAaU,MAAMiC,UAAgB,oBACxCpD,KAAKkB,aAAelB,KAAKa,aAAe,EACxCb,KAAKwB,WAELiC,YAAY,WAERhC,EAAMhB,aAAaU,MAAMC,mBAAqB,KAC9CK,EAAMhB,aAAaU,MAAMiC,UAAqB,WAAa3B,EAAMZ,aAAe,QAChF4C,YAAY,WAAahC,EAAMhB,aAAaU,MAAMC,mBAAqBK,EAAM9B,WAAWG,kBAAoB,IAAM,GAAG,GAEzH,GAAGE,KAAKL,WAAWG,oBAEW,IAAtBE,KAAKkB,cAAqC,IAAfoC,GAEnCtD,KAAKS,aAAaU,MAAMiC,UAAY,WAA4B,IAAfpD,KAAKc,UAAcC,KAAKC,GAAK,QAC9EhB,KAAKkB,aAA+BO,EAAMnB,OAAOW,OAAS,EAC1DjB,KAAKa,aAAgE,MAA9B,EAAEE,KAAKC,GAAKS,EAAMX,WAAgBC,KAAKC,GAC9EhB,KAAKwB,WAELiC,YAAY,WAERhC,EAAMhB,aAAaU,MAAMC,mBAAqB,KAC9CK,EAAMhB,aAAaU,MAAMiC,UAAY,WAAa3B,EAAMZ,aAAe,QACvE4C,YAAY,WAAahC,EAAMhB,aAAaU,MAAMC,mBAAqBK,EAAM9B,WAAWG,kBAAoB,IAAM,GAAG,GAEzH,GAAGE,KAAKL,WAAWG,qBAInBE,KAAKkB,cAA+BoC,EACpCtD,KAAKa,cAAgD,IAAfb,KAAKc,UAAcC,KAAKC,GAAKsC,EACnEtD,KAAKS,aAAaU,MAAMiC,UAAY,WAAapD,KAAKa,aAAe,QACrEb,KAAKwB,WAIb,EAEAtB,EAAO+B,UAAUV,OAAS,WAEtB,IAAIE,EAAqBzB,KACzByB,EAAMf,QAAQgB,QAAW,WAAaD,EAAM4B,OAAO,EAAG,EACtD5B,EAAMd,SAASe,QAAU,WAAaD,EAAM4B,QAAQ,EAAG,CAE3D,EAEAnD,EAAO+B,UAAUyB,WAAa,WAE1B1D,KAAKU,QAAQgB,QAAW,KACxB1B,KAAKW,SAASe,QAAU,IAE5B,EAEAxB,EAAO+B,UAAUX,YAAc,WAC3B,IAAIG,EAAYzB,KAChBA,KAAKgC,SAAW2B,aAAa,WAAalC,EAAM4B,QAAQ,EAAG,GAAG5B,EAAM9B,WAAWI,iBAAmB,IACtG,EAEAG,EAAO+B,UAAUsB,YAAc,WAE3B,IAAIP,EAAIhD,KAAKkB,aAGblB,KAAKM,OAAO0C,GAAGrB,UAAUE,OAAO,8BAChC7B,KAAKM,OAAO0C,GAAG7B,MAAMqB,OAASxC,KAAKM,OAAO0C,GAAG7B,MAAMmB,MAAQtC,KAAKQ,WAAa,KAG7E,IAAK,IAAIuC,EAAI,EAAGA,EAAI/C,KAAKM,OAAOW,OAAQ8B,IACpC/C,KAAKM,OAAOyC,GAAGpB,UAAUE,OAAO,4BAChC7B,KAAKM,OAAOyC,GAAGpB,UAAUE,OAAO,2BAExC,EAGA3B,EAAO+B,UAAUT,SAAW,WAExB,IAAIwB,EAAIhD,KAAKkB,aACT0C,EAAQ5D,KAAKM,OAAOW,OAGxBjB,KAAKM,OAAO0C,GAAGrB,UAAUG,IAAI,8BAC7B9B,KAAKM,OAAO0C,GAAG7B,MAAMqB,OAASxC,KAAKM,OAAO0C,GAAG7B,MAAMmB,MAAQtC,KAAKQ,WAAa,GAAK,KAGlF,IAAIqD,GAAab,EAAI,EAAIY,GAASA,EAClC5D,KAAKM,OAAOuD,GAAWlC,UAAUG,IAAI,4BAGrC,IAAIgC,GAAad,EAAI,GAAKY,EAC1B5D,KAAKM,OAAOwD,GAAWnC,UAAUG,IAAI,2BAEzC,EAEA5B,EAAO+B,UAAUuB,UAAY,WAEzB,IAAI/B,EAAQzB,KAEZA,KAAK0D,aACLD,YAAY,WAAYhC,EAAMF,QAAS,GAAGvB,KAAKL,WAAWG,kBAAoB,IACxD,MAAjBE,KAAKgC,WACND,cAAe/B,KAAKgC,UACpBhC,KAAKsB,cAGb,EAGAyC,OAAOC,gBAAkB,IAAI9D,EAAQ+D,SAAS5D,cAAe,0CAA4C,IAAK,GAAI,IAAK,MACvH0D,OAAOG,gBAAkB,IAAIhE,EAAQ+D,SAAS5D,cAAe,0CAA4C,GAAI,GAAI,IAAK,KACtH0D,OAAOI,gBAAkB,IAAIjE,EAAQ+D,SAAS5D,cAAe,0CAA4C,GAAI,GAAI,IAAK,MACtH0D,OAAOK,gBAAkB,IAAIlE,EAAQ+D,SAAS5D,cAAe,0CAA4C,GAAI,GAAI,IAAK,MAEtH,IAAIgE,EAAU,CAAEN,OAAOC,gBAAiBD,OAAOG,gBAAiBH,OAAOI,gBAAiBJ,OAAOK,iBAE/FL,OAAOO,SAAW,WAEd,IAAM,IAAIvB,EAAI,EAAGA,EAAIsB,EAAQpD,OAAQ8B,IAEjCsB,EAAQtB,GAAGS,YACXa,EAAQtB,GAAG1B,UAInB,CAGF,CAhPF","ignoreList":[],"sourcesContent":["( function() {\n    'use strict';\n\n    function startSetup( sliderSize, slideSize, animationDuration, autoplayInterval ) {\n\n        this.sliderSize        = parseFloat( sliderSize )/100;\n        this.slideSize         = parseFloat( slideSize )/100;\n        this.animationDuration = parseFloat( animationDuration );\n        this.autoplayInterval  = parseFloat( autoplayInterval );\n\n    };\n\n    function Slider( newSlider, sliderSize, slideSize, animationDuration, autoplayInterval ) {\n\n        this.startSetup           = new startSetup( sliderSize, slideSize, animationDuration, autoplayInterval ),\n\n        this.wrapper              = newSlider.querySelector( '.circular-slider-js .wrapper' );\n\n        this.slides               = newSlider.querySelectorAll( '.circular-slider-js .circular-slider .wrapper .slides-holder .slides-holder__item' );\n\n        this.slidesSize           = 0;\n\n        this.slidesHolder         = newSlider.querySelector( '.circular-slider-js .circular-slider .wrapper .slides-holder' );\n\n        this.btnLeft              = newSlider.querySelector( '.circular-slider-js .circular-slider .wrapper .controls .controls__left' );\n\n        this.btnRight             = newSlider.querySelector( '.circular-slider-js .circular-slider .wrapper .controls .controls__right' );\n\n        this.btnAutoplay          = newSlider.querySelector( '.circular-slider-js .circular-slider .wrapper .controls .controls__autoplay' );\n\n        this.currentAngle         = 0;\n\n        this.stepAngle            = 2*Math.PI/newSlider.querySelectorAll( '.circular-slider-js .circular-slider .wrapper .slides-holder .slides-holder__item' ).length;\n\n        this.currentSlide         = 0;\n\n        this.slidesHolder.style.transitionDuration = this.startSetup.animationDuration + 'ms';\n        this.onResize();\n        this.setAutoplay();\n        this.setNav();\n        this.addStyle();\n\n        let _this = this;\n        this.btnAutoplay.onclick = function() {\n\n            if( this.classList.contains( 'controls__autoplay_running' ) ) {\n        \n                this.classList.remove( 'controls__autoplay_running' );\n                this.classList.add( 'controls__autoplay_paused' );\n                clearInterval( _this.autoplay );\n                _this.autoplay = null;\n        \n            } else {\n        \n                this.classList.remove( 'controls__autoplay_paused' );\n                this.classList.add( 'controls__autoplay_running' );\n                _this.setAutoplay(); \n    \n            }\n        }\n    };\n\n    Slider.prototype.onResize = function() {\n\n        let radius,\n            w = this.wrapper.parentNode.getBoundingClientRect().width,\n            h = this.wrapper.parentNode.getBoundingClientRect().height;\n\n        2*h <= w ? radius = h*this.startSetup.sliderSize\n                 : radius = ( w/2 )*this.startSetup.sliderSize;\n\n        this.setSize( Math.round( radius ) );\n\n    };\n\n    Slider.prototype.setSize = function( radius ) {\n\n        this.wrapper.style.width  = 2*radius + 'px';\n        this.wrapper.style.height = radius + 'px';\n\n        let r                         = 2*radius*( 1 - this.startSetup.slideSize );\n        this.slidesHolder.style.width = this.slidesHolder.style.height = r + 'px';\n        this.slidesRepositioning( r/2 );\n\n        this.slidesHolder.style.marginTop    = radius*this.startSetup.slideSize + 'px';\n\n        this.slidesSize                        = Math.min( 2*radius*this.startSetup.slideSize, this.stepAngle*radius*( 1 - this.startSetup.slideSize ) - 50 );\n        for( let i = 0; i < this.slides.length; i++ ) {\n            this.slides[i].style.width = this.slides[i].style.height = this.slidesSize + 'px';\n        };\n\n    };\n\n    Slider.prototype.slidesRepositioning = function( r ) {\n\n        for( let i = 0; i < this.slides.length; i++ ) {\n\n            let x = r*Math.cos( this.stepAngle*i - Math.PI/2 ),\n                y = r*Math.sin( this.stepAngle*i - Math.PI/2 );\n            this.slides[i].style.transform = 'translate( ' + x  + 'px, ' + y + 'px ) rotate( ' + this.stepAngle*180/Math.PI*i + 'deg )';\n\n        };\n\n    };\n\n    Slider.prototype.rotate = function( multiplier ) {\n\n        let _this = this;\n\n        this.removeStyle();\n        this.resetNavs();\n\n        if( this.currentSlide === this.slides.length - 1  && multiplier === -1 ) {\n\n            this.slidesHolder.style.transform     = 'rotate( -360deg )';\n            this.currentSlide = this.currentAngle = 0;\n            this.addStyle();\n\n            setTimeout( function(){\n\n                _this.slidesHolder.style.transitionDuration = 0 + 's';\n                _this.slidesHolder.style.transform          = 'rotate( ' + _this.currentAngle + 'deg )';\n                setTimeout( function() { _this.slidesHolder.style.transitionDuration = _this.startSetup.animationDuration + 'ms'; }, 20 );\n\n            }, this.startSetup.animationDuration );\n\n        } else if ( this.currentSlide === 0 && multiplier === 1 ) {\n\n            this.slidesHolder.style.transform = 'rotate( ' + this.stepAngle*180/Math.PI + 'deg )';\n            this.currentSlide                 = _this.slides.length - 1;\n            this.currentAngle                 = -( 2*Math.PI - _this.stepAngle )*180/Math.PI;\n            this.addStyle();\n\n            setTimeout( function(){\n\n                _this.slidesHolder.style.transitionDuration = 0 + 's';\n                _this.slidesHolder.style.transform = 'rotate( ' + _this.currentAngle + 'deg )';\n                setTimeout( function() { _this.slidesHolder.style.transitionDuration = _this.startSetup.animationDuration + 'ms'; }, 20 );\n\n            }, this.startSetup.animationDuration );\n\n        } else {\n\n            this.currentSlide                -= multiplier;\n            this.currentAngle                += ( this.stepAngle*180/Math.PI )*multiplier;\n            this.slidesHolder.style.transform = 'rotate( ' + this.currentAngle + 'deg )';\n            this.addStyle();\n\n        };\n\n    };\n\n    Slider.prototype.setNav = function() {\n\n        let _this              = this;\n        _this.btnLeft.onclick  = function() { _this.rotate(1) };\n        _this.btnRight.onclick = function() { _this.rotate(-1) };\n\n    };\n\n    Slider.prototype.disableNav = function() {\n\n        this.btnLeft.onclick  = null;\n        this.btnRight.onclick = null;\n\n    };\n\n    Slider.prototype.setAutoplay = function() {\n        let _this     = this;\n        this.autoplay = setInterval( function() { _this.rotate(-1) }, _this.startSetup.autoplayInterval + 100 ); \n    };\n\n    Slider.prototype.removeStyle = function() {\n\n        let x = this.currentSlide;\n\n        // Active\n        this.slides[x].classList.remove('slides-holder__item_active');\n        this.slides[x].style.height = this.slides[x].style.width = this.slidesSize + 'px';\n\n        // Prev / Next\n        for (let i = 0; i < this.slides.length; i++) {\n            this.slides[i].classList.remove('slides-holder__item_prev');\n            this.slides[i].classList.remove('slides-holder__item_next');\n        }\n    };\n\n\n    Slider.prototype.addStyle = function() {\n\n        let x = this.currentSlide;\n        let total = this.slides.length;\n\n        // Slide active\n        this.slides[x].classList.add('slides-holder__item_active');\n        this.slides[x].style.height = this.slides[x].style.width = this.slidesSize + 20 + 'px';\n\n        // Slide précédente\n        let prevIndex = (x - 1 + total) % total;\n        this.slides[prevIndex].classList.add('slides-holder__item_prev');\n\n        // Slide suivante\n        let nextIndex = (x + 1) % total;\n        this.slides[nextIndex].classList.add('slides-holder__item_next');\n\n    };\n\n    Slider.prototype.resetNavs = function() {\n\n        let _this = this;\n\n        this.disableNav();\n        setTimeout( function(){ _this.setNav() }, this.startSetup.animationDuration + 20 );\n        if ( this.autoplay != null ) {\n            clearInterval( this.autoplay );\n            this.setAutoplay();\n        };\n\n    };\n\n    ///////////Init sliders/////////// \n    window.circularSlider1 = new Slider( document.querySelector( '.circular-slider-js .circular-slider-1' ), 100, 15, 600, 2500 );\n    window.circularSlider2 = new Slider( document.querySelector( '.circular-slider-js .circular-slider-2' ), 90, 13, 700, 3000 );\n    window.circularSlider3 = new Slider( document.querySelector( '.circular-slider-js .circular-slider-3' ), 80, 18, 800, 3700 );\n    window.circularSlider4 = new Slider( document.querySelector( '.circular-slider-js .circular-slider-4' ), 70, 20, 900, 4200 );\n\n    let sliders = [ window.circularSlider1, window.circularSlider2, window.circularSlider3, window.circularSlider4 ];\n \n    window.onresize = function() {\n\n        for ( let i = 0; i < sliders.length; i++ ){\n\n            sliders[i].resetNavs();\n            sliders[i].onResize();\n\n        };\n\n    };\n    //////////////////////\n\n} )();"]}